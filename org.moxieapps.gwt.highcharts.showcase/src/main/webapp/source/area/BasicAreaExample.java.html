<html>
<head>
<link rel='stylesheet' href='../../css/syntax-highlighter.css' type='text/css' />
<script src='../../js/sh-core.js'></script>
<script src='../../js/sh-java.js'></script>
</head>
<body>
<textarea name='code' class='java:nogutter' rows='15' cols='120'>
import com.google.gwt.i18n.client.*;
import com.google.gwt.core.client.EntryPoint;
import com.google.gwt.user.client.ui.RootPanel;
import org.moxieapps.gwt.highcharts.client.*;
import org.moxieapps.gwt.highcharts.client.labels.*;
import org.moxieapps.gwt.highcharts.client.plotOptions.*;

public class BasicAreaExample implements EntryPoint {

    public void onModuleLoad() {
        RootPanel.get().add(createChart());
    }

    public Chart createChart() {

        final Chart chart = new Chart()
            .setType(Series.Type.AREA)
            .setChartTitleText("US and USSR nuclear stockpiles")
            .setChartSubtitleText(
                "Source: " +
                    "<a href=\"http://thebulletin.metapress.com/content/c4120650912x74k7/fulltext.pdf\">" +
                    "thebulletin.metapress.com</a>"
            )
            .setAreaPlotOptions(new AreaPlotOptions()
                .setPointStart(1940)
                .setMarker(new Marker()
                    .setEnabled(false)
                    .setSymbol(Marker.Symbol.CIRCLE)
                    .setRadius(2)
                    .setHoverState(new Marker()
                        .setEnabled(true)
                    )
                )

            )
            .setToolTip(new ToolTip()
                .setFormatter(
                    new ToolTipFormatter() {
                        public String format(ToolTipData toolTipData) {
                            return toolTipData.getSeriesName() +
                                " produced <b>" +
                                toolTipData.getYAsLong() +
                                "</b><br/>warheads in " +
                                toolTipData.getXAsLong();
                        }
                    }
                )
            );

        chart.getXAxis()
            .setLabels(new XAxisLabels()
                .setFormatter(
                    new AxisLabelsFormatter() {
                        public String format(AxisLabelsData axisLabelsData) {
                            // clean, unformatted number for year
                            return String.valueOf(axisLabelsData.getValueAsLong());
                        }
                    }
                )
            );

        chart.getYAxis()
            .setAxisTitleText("Nuclear weapon states")
            .setLabels(new YAxisLabels()
                .setFormatter(
                    new AxisLabelsFormatter() {
                        public String format(AxisLabelsData axisLabelsData) {
                            return axisLabelsData.getValueAsLong() / 1000 + "k";
                        }
                    }
                )
            );

        chart.addSeries(chart.createSeries()
            .setName("USA")
            .setPoints(new Number[]{
                0, 0, 0, 0, 0, 6, 11, 32, 110, 235, 369, 640,
                1005, 1436, 2063, 3057, 4618, 6444, 9822, 15468, 20434, 24126,
                27387, 29459, 31056, 31982, 32040, 31233, 29224, 27342, 26662,
                26956, 27912, 28999, 28965, 27826, 25579, 25722, 24826, 24605,
                24304, 23464, 23708, 24099, 24357, 24237, 24401, 24344, 23586,
                22380, 21004, 17287, 14747, 13076, 12555, 12144, 11009, 10950,
                10871, 10824, 10577, 10527, 10475, 10421, 10358, 10295, 10104
            })
        );
        chart.addSeries(chart.createSeries()
            .setName("USSR/Russia")
            .setPoints(new Number[]{
                0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                5, 25, 50, 120, 150, 200, 426, 660, 869, 1060, 1605, 2471, 3322,
                4238, 5221, 6129, 7089, 8339, 9399, 10538, 11643, 13092, 14478,
                15915, 17385, 19055, 21205, 23044, 25393, 27935, 30062, 32049,
                33952, 35804, 37431, 39197, 45000, 43000, 41000, 39000, 37000,
                35000, 33000, 31000, 29000, 27000, 25000, 24000, 23000, 22000,
                21000, 20000, 19000, 18000, 18000, 17000, 16000
            })
        );

        return chart;
    }

}
</textarea>
<script type='text/javascript'>
dp.SyntaxHighlighter.HighlightAll("code");
</script>
</body>
</html>
